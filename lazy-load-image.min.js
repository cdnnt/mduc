!function($){$.fn.lazyload=function(options){var settings={threshold:0,failurelimit:0,event:"scroll",effect:"show",container:window};options&&$.extend(settings,options);var elements=this;return"scroll"==settings.event&&$(settings.container).bind("scroll",function(event){var counter=0;elements.each(function(){if($.abovethetop(this,settings)||$.leftofbegin(this,settings));else if($.belowthefold(this,settings)||$.rightoffold(this,settings)){if(counter++>settings.failurelimit)return!1}else $(this).trigger("appear")});var temp=$.grep(elements,function(element){return!element.loaded});elements=$(temp)}),this.each(function(){var self=this;void 0==$(self).attr("original")&&$(self).attr("original",$(self).attr("src")),"scroll"!=settings.event||void 0==$(self).attr("src")||settings.placeholder==$(self).attr("src")||$.abovethetop(self,settings)||$.leftofbegin(self,settings)||$.belowthefold(self,settings)||$.rightoffold(self,settings)?(settings.placeholder?$(self).attr("src",settings.placeholder):$(self).removeAttr("src"),self.loaded=!1):self.loaded=!0,$(self).one("appear",function(){this.loaded||$("<img />").bind("load",function(){$(self).hide().attr("src",$(self).attr("original"))[settings.effect](settings.effectspeed),self.loaded=!0}).attr("src",$(self).attr("original"))}),"scroll"!=settings.event&&$(self).bind(settings.event,function(event){self.loaded||$(self).trigger("appear")})}),$(settings.container).trigger(settings.event),this},$.belowthefold=function(element,settings){if(void 0===settings.container||settings.container===window)var fold=$(window).height()+$(window).scrollTop();else var fold=$(settings.container).offset().top+$(settings.container).height();return fold<=$(element).offset().top-settings.threshold},$.rightoffold=function(element,settings){if(void 0===settings.container||settings.container===window)var fold=$(window).width()+$(window).scrollLeft();else var fold=$(settings.container).offset().left+$(settings.container).width();return fold<=$(element).offset().left-settings.threshold},$.abovethetop=function(element,settings){if(void 0===settings.container||settings.container===window)var fold=$(window).scrollTop();else var fold=$(settings.container).offset().top;return fold>=$(element).offset().top+settings.threshold+$(element).height()},$.leftofbegin=function(element,settings){if(void 0===settings.container||settings.container===window)var fold=$(window).scrollLeft();else var fold=$(settings.container).offset().left;return fold>=$(element).offset().left+settings.threshold+$(element).width()},$.extend($.expr[":"],{"below-the-fold":"$.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!$.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"$.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!$.rightoffold(a, {threshold : 0, container: window})"})}(jQuery);
